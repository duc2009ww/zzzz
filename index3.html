<script>
  const API_KEY = "7e50ba5ee6342f59a6ce19033647df4f"; // üîë Thay b·∫±ng TMDB key c·ªßa b·∫°n
  const BASE_URL = "https://api.themoviedb.org/3";
  const IMG_URL = "https://image.tmdb.org/t/p/w500";

  async function loadHomeMovies() {
    try {
      const res = await fetch(
        `${BASE_URL}/movie/popular?api_key=${API_KEY}&language=vi-VN&page=1`
      );
      const data = await res.json();
      renderMovies(data.results);
    } catch (err) {
      console.error("L·ªói khi t·∫£i phim:", err);
    }
  }

  function renderMovies(movies) {
    const container = document.querySelector("#the_loai_2 .row");
    container.innerHTML = "";

    movies.forEach((movie) => {
      const col = document.createElement("div");
      col.className = "col";
      col.innerHTML = `
        <div class="card shadow-sm">
          <img src="${
            movie.poster_path
              ? IMG_URL + movie.poster_path
              : "https://via.placeholder.com/400x600?text=No+Image"
          }" class="card-img-top" alt="${movie.title}">
          <div class="card-body">
            <h5 class="card-title">${movie.title}</h5>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <a href="./pages/chitietphim.html?id=${movie.id}" 
                   class="btn btn-sm btn-dark">View</a>
              </div>
              <small class="text-body-secondary">${movie.release_date || "N/A"}</small>
            </div>
          </div>
        </div>
      `;
      container.appendChild(col);
    });
  }

  // G·ªçi API khi trang v·ª´a load
  document.addEventListener("DOMContentLoaded", loadHomeMovies);
</script>
